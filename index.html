<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sell vs Rent Calculator — Outdoor Financial Freedom</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>

<body>
  <header class="wrap header">
    <div class="brand">
      <div class="brandText">
        <div class="title">Sell vs Rent Calculator</div>
        <div class="subtitle">
          Made by <a class="link" href="#">Outdoor Financial Freedom</a>
          · Net Worth Impact = Home Equity + Stock Portfolio
        </div>
      </div>
    </div>
    <p class="disclaimer">
      Educational tool based on standard financial modeling. Not professional financial advice.
    </p>
  </header>

  <main class="wrap grid">
    <div class="col">
      <section class="card">
        <h2>Step 1: Required Inputs</h2>
        
        <h3 class="section-label">Home Sale Inputs</h3>
        <div class="grid2">
          <label>
            Date of Home Sale
            <input id="saleDate" type="date" />
          </label>
          <label>
            Home Sale Price ($)
            <input id="salePrice" type="number" min="0" step="1000" placeholder="456000" />
          </label>
        </div>

        <h3 class="section-label">Current Mortgage Inputs</h3>
        <div class="grid2">
          <label>
            Remaining Loan Balance ($)
            <input id="loanBal" type="number" min="0" step="100" placeholder="395658" />
          </label>
          <label>
            Current Mortgage Rate (%)
            <input id="mortgageRate" type="number" min="0" step="0.125" placeholder="6.875" />
          </label>
          <label>
            Loan End Date
            <input id="loanEndDate" type="date" />
          </label>
          <label>
            Monthly P&I Payment ($)
            <input id="monthlyPI" type="number" min="0" step="10" placeholder="2683" />
          </label>
          <label>
            Monthly Taxes & Insurance ($)
            <input id="monthlyTaxIns" type="number" min="0" step="10" placeholder="940" />
          </label>
          <label>
            Monthly HOA Payment ($)
            <input id="monthlyHOA" type="number" min="0" step="10" value="0" />
          </label>
        </div>

        <h3 class="section-label">Rental Inputs</h3>
        <div class="grid2">
          <label>
            Estimated Monthly Rent ($)
            <input id="monthlyRent" type="number" min="0" step="50" placeholder="2995" />
          </label>
        </div>

        <div class="actions">
          <button id="calcBtn" class="primary">Calculate Results</button>
          <button id="resetBtn" class="secondary">Reset</button>
        </div>

        <details class="accordion">
          <summary>Step 2: Optional Inputs</summary>
          
          <div class="padtop">
            <h3 class="section-label small-label">Home Sale Assumptions</h3>
            <div class="grid2">
              <label>
                Seller Closing Costs (% of Price)
                <input id="sellingCostsPct" type="number" min="0" step="0.1" value="8.0" />
              </label>
              <label>
                Original Purchase Price ($ for Basis)
                <input id="originalPrice" type="number" min="0" step="1000" placeholder="Optional" />
              </label>
            </div>

            <h3 class="section-label small-label">Rental Expenses</h3>
            <div class="grid2">
              <label>Repairs & Maint (% of Rent)<input id="maintPct" type="number" step="0.1" value="5.0" /></label>
              <label>CapEx (% of Rent)<input id="capexPct" type="number" step="0.1" value="5.0" /></label>
              <label>Vacancy (% of Rent)<input id="vacancyPct" type="number" step="0.1" value="5.0" /></label>
              <label>Prop Mgmt Fee (% of Rent)<input id="mgmtPct" type="number" step="0.1" value="0.0" /></label>
              <label>Landlord Utilities ($/mo)<input id="landlordUtils" type="number" step="10" value="60" /></label>
              <label>Other Monthly Expenses ($/mo)<input id="otherExp" type="number" step="10" value="0" /></label>
            </div>

            <h3 class="section-label small-label">Tax Inputs</h3>
            <div class="grid2">
              <label>Filing Status
                <select id="filingStatus">
                  <option value="married">Married</option>
                  <option value="single">Single</option>
                </select>
              </label>
              <label>Primary Residence ≥ 2 of last 5 yrs?
                <select id="primaryRes">
                  <option value="yes">Yes</option>
                  <option value="no" selected>No</option>
                </select>
              </label>
              <label>Capital Gains Tax Rate (%)<input id="capGainsRate" type="number" step="0.1" value="20.0" /></label>
              <label>Rental Income Tax Rate (%)<input id="rentalTaxRate" type="number" step="0.1" value="15.0" /></label>
            </div>

            <h3 class="section-label small-label">Market & Inflation</h3>
            <div class="grid2">
              <label>Annual Stock Return (%)<input id="stockReturn" type="number" step="0.1" value="7.0" /></label>
              <label>Inflation Rate (%)<input id="inflationRate" type="number" step="0.1" value="2.5" /></label>
            </div>

            <h3 class="section-label small-label">Optional: Refinance Before Renting</h3>
            <label class="checkbox-label">
              <input type="checkbox" id="doRefi" />
              Intend to Refinance?
            </label>
            <div id="refiInputs" class="grid2 hidden mt-2">
              <label>New Loan Duration (Years)<input id="refiYears" type="number" value="30" /></label>
              <label>One-time Paydown ($)<input id="refiPaydown" type="number" value="50000" /></label>
              <label>Refi Closing Costs (% of Loan)<input id="refiCostPct" type="number" step="0.1" value="2.5" /></label>
              <label>New Mortgage Rate (%)<input id="refiRate" type="number" step="0.125" value="6.0" /></label>
            </div>
          </div>
        </details>
      </section>
    </div>

    <section class="card">
      <h2>Results</h2>
      <div id="resultTop" class="resultTop muted">
        Enter inputs and click <b>Calculate Results</b>.
      </div>

      <div class="pillRow">
        <div class="pill" id="recPill">—</div>
        <div class="pill soft" id="diffPill">—</div>
      </div>

      <div class="chartCard">
        <div class="chartHeader">
          <div>
            <div class="chartTitle">Net Worth Projection (30 Years)</div>
            <div class="chartSub">Sell (Stock Growth) vs Rent (Equity + Cash Flow Investment)</div>
          </div>
        </div>
        <div class="chartWrap">
          <canvas id="nwChart"></canvas>
        </div>
      </div>

      <div class="tableWrap">
        <table id="resultsTable" class="hidden">
          <thead>
            <tr>
              <th>Year</th>
              <th>Winner</th>
              <th>Sell Net Worth</th>
              <th>Rent Net Worth</th>
              <th>Diff ($)</th>
            </tr>
          </thead>
          <tbody id="resultsBody"></tbody>
        </table>
      </div>
      
      <div class="actions">
        <button id="csvBtn" class="secondary" disabled>Download CSV</button>
      </div>
    </section>
  </main>

  <footer class="wrap footer">
    <span>© <span id="yearNow"></span> Outdoor Financial Freedom</span>
  </footer>

  <script src="script.js"></script>
</body>
</html>